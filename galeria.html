<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galeria - Ligon Resort Spa</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="galeria.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="galeria-container">
        <header class="galeria-header">
            <div class="container">
                <a href="Eliá SPA _ Eliá SPA.html" class="galeria-logo">
                    <img src="images/ligon_verde.png" alt="Ligon Resort Spa" style="max-width: 180px; height: auto;">
                </a>
                <h1 class="galeria-title">Nossa Galeria</h1>
                <p class="galeria-subtitle">Descubra a elegância e sofisticação do Ligon Resort Spa</p>
                <div class="galeria-header-btn">
                    <a href="Eliá SPA _ Eliá SPA.html" class="galeria-back-btn galeria-back-btn-top">
                        <span>← Voltar ao Início</span>
                    </a>
                </div>
            </div>
        </header>

        <main class="galeria-main">
            <div class="container">
                <div class="galeria-layout-asymmetric">
                    <!-- Coluna Esquerda - Imagem Grande (Destaque) -->
                    <div class="galeria-featured" id="galeriaFeatured">
                        <!-- Conteúdo será carregado dinamicamente via JavaScript -->
                    </div>

                    <!-- Coluna Direita - Todas as outras imagens (Grid) -->
                    <div class="galeria-grid-right" id="galeriaGrid">
                        <!-- Conteúdo será carregado dinamicamente via JavaScript -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Lightbox Modal -->
        <div id="lightbox-modal" class="lightbox-modal">
            <span class="lightbox-close">&times;</span>
            <img class="lightbox-content" id="lightbox-image" src="" alt="">
            <div class="lightbox-caption" id="lightbox-caption"></div>
        </div>

        <footer class="galeria-footer">
            <div class="container">
                <a href="Eliá SPA _ Eliá SPA.html" class="galeria-back-btn">
                    <span>← Voltar ao Início</span>
                </a>
            </div>
        </footer>
    </div>

    <script>
        // Load gallery from localStorage or use default images
        function loadGallery() {
            const galleryItems = JSON.parse(localStorage.getItem('ligon_galeria') || '[]');
            const featuredContainer = document.getElementById('galeriaFeatured');
            const gridContainer = document.getElementById('galeriaGrid');

            // Default images (fallback se não houver itens cadastrados)
            const defaultImages = [
                {
                    tipo: 'featured',
                    imagem: 'images/IMG-20251114-WA0504.jpg',
                    titulo: 'TRANSFORMAÇÃO DIVINA',
                    descricao: 'Um portal para o momento certo, onde cada aroma, gesto e textura revelam o propósito mais profundo do seu ser. O primeiro spa contêiner do Brasil, imerso em uma reserva natural. Venha viver seu renascimento.',
                    ctaTexto: '→ Agende Sua Experiência',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0512.jpg',
                    titulo: 'EVENTOS KAIRÓS',
                    descricao: 'Transformamos ações de marca, lançamentos e celebrações em experiências memoráveis. Oferecemos massagens premium, bem-estar e hospitalidade de excelência.',
                    ctaTexto: '→ Ver experiências para eventos',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0516.jpg',
                    titulo: 'HAMMAM EXPERIENCE',
                    descricao: 'Mergulhe na tradição milenar do banho turco, onde vapor, esfoliação e hidratação profunda purificam o corpo e trazem serenidade à mente.',
                    ctaTexto: '→ Experimentar Agora',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0517.jpg',
                    titulo: 'DIA DA NOIVA',
                    descricao: 'O início de um dia especial em um santuário de paz e beleza. Massagens, tratamentos faciais e cuidados exclusivos para uma experiência leve, radiante e inesquecível.',
                    ctaTexto: '→ Conheça o Dia da Noiva',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0518.jpg',
                    titulo: 'LUXO E CONFORTO',
                    descricao: 'Detalhes refinados que transformam cada visita em uma experiência memorável e transformadora.',
                    ctaTexto: '→ Descubra Mais',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0519.jpg',
                    titulo: 'ESTÉTICA AVANÇADA',
                    descricao: 'Tecnologia de ponta combinada com cuidados personalizados para resultados excepcionais.',
                    ctaTexto: '→ Conheça Nossos Tratamentos',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0520.jpg',
                    titulo: 'EXPERIÊNCIAS ÚNICAS',
                    descricao: 'Cada tratamento é uma jornada personalizada de renovação e revitalização completa.',
                    ctaTexto: '→ Agende Sua Jornada',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0521.jpg',
                    titulo: 'HARMONIA PERFEITA',
                    descricao: 'O equilíbrio perfeito entre design contemporâneo e elementos naturais para seu bem-estar.',
                    ctaTexto: '→ Explore Nossos Espaços',
                    ctaLink: '#'
                },
                {
                    tipo: 'grid',
                    imagem: 'images/IMG-20251114-WA0525.jpg',
                    titulo: 'RENOVAÇÃO COMPLETA',
                    descricao: 'Deixe-se envolver por uma experiência que renova não apenas o corpo, mas também a alma.',
                    ctaTexto: '→ Transforme-se',
                    ctaLink: '#'
                }
            ];

            // Usar itens do admin se existirem, senão usar padrão
            const itemsToUse = galleryItems.length > 0 ? galleryItems : defaultImages;

            // Separar featured e grid
            const featuredItems = itemsToUse.filter(item => item.tipo === 'featured');
            const gridItems = itemsToUse.filter(item => item.tipo === 'grid');

            // Ordenar por ordem
            gridItems.sort((a, b) => (a.ordem || 0) - (b.ordem || 0));

            // Renderizar featured (apenas o primeiro)
            if (featuredItems.length > 0) {
                const featured = featuredItems[0];
                featuredContainer.innerHTML = `
                    <div class="galeria-featured-item clickable-image" data-image="${featured.imagem}">
                        <div class="galeria-featured-image">
                            <img src="${featured.imagem}" alt="${featured.titulo}">
                        </div>
                        <div class="galeria-featured-content">
                            <h2>${featured.titulo}</h2>
                            <p>${featured.descricao}</p>
                            ${featured.ctaTexto ? `<a href="${featured.ctaLink || '#'}" class="galeria-cta-btn">${featured.ctaTexto}</a>` : ''}
                        </div>
                    </div>
                `;
            } else if (defaultImages.find(img => img.tipo === 'featured')) {
                // Usar default se não houver featured cadastrado
                const defaultFeatured = defaultImages.find(img => img.tipo === 'featured');
                featuredContainer.innerHTML = `
                    <div class="galeria-featured-item clickable-image" data-image="${defaultFeatured.imagem}">
                        <div class="galeria-featured-image">
                            <img src="${defaultFeatured.imagem}" alt="${defaultFeatured.titulo}">
                        </div>
                        <div class="galeria-featured-content">
                            <h2>${defaultFeatured.titulo}</h2>
                            <p>${defaultFeatured.descricao}</p>
                            <a href="${defaultFeatured.ctaLink}" class="galeria-cta-btn">${defaultFeatured.ctaTexto}</a>
                        </div>
                    </div>
                `;
            }

            // Renderizar grid
            if (gridItems.length > 0) {
                gridContainer.innerHTML = gridItems.map(item => `
                    <div class="galeria-right-item clickable-image" data-image="${item.imagem}">
                        <div class="galeria-right-image">
                            <img src="${item.imagem}" alt="${item.titulo}">
                        </div>
                        <div class="galeria-right-content">
                            <h3>${item.titulo}</h3>
                            <p>${item.descricao}</p>
                            ${item.ctaTexto ? `<a href="${item.ctaLink || '#'}" class="galeria-cta-btn">${item.ctaTexto}</a>` : ''}
                        </div>
                    </div>
                `).join('');
            } else {
                // Usar defaults se não houver grid cadastrado
                const defaultGrid = defaultImages.filter(img => img.tipo === 'grid');
                gridContainer.innerHTML = defaultGrid.map(item => `
                    <div class="galeria-right-item clickable-image" data-image="${item.imagem}">
                        <div class="galeria-right-image">
                            <img src="${item.imagem}" alt="${item.titulo}">
                        </div>
                        <div class="galeria-right-content">
                            <h3>${item.titulo}</h3>
                            <p>${item.descricao}</p>
                            <a href="${item.ctaLink}" class="galeria-cta-btn">${item.ctaTexto}</a>
                        </div>
                    </div>
                `).join('');
            }

            // Inicializar lightbox após carregar imagens
            initLightbox();
        }

        // Lightbox functionality
        function initLightbox() {
            const clickableImages = document.querySelectorAll('.clickable-image');
            const modal = document.getElementById('lightbox-modal');
            const modalImg = document.getElementById('lightbox-image');
            const modalCaption = document.getElementById('lightbox-caption');
            const closeBtn = document.querySelector('.lightbox-close');

            // Remover listeners antigos
            clickableImages.forEach(item => {
                const newItem = item.cloneNode(true);
                item.parentNode.replaceChild(newItem, item);
            });

            // Adicionar novos listeners
            document.querySelectorAll('.clickable-image').forEach(function(item) {
                item.addEventListener('click', function(e) {
                    // Não abrir modal se clicar no link CTA
                    if (e.target.tagName === 'A' || e.target.closest('a')) {
                        return;
                    }
                    
                    const imageSrc = item.getAttribute('data-image');
                    const imageAlt = item.querySelector('img')?.alt || '';
                    
                    modal.style.display = 'flex';
                    modalImg.src = imageSrc;
                    modalCaption.textContent = imageAlt;
                    document.body.style.overflow = 'hidden';
                });
            });

            closeBtn.addEventListener('click', function() {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            });

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });

            // Fechar com ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && modal.style.display === 'flex') {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Carregar galeria ao carregar a página
        loadGallery();
    </script>
</body>
</html>
